# Anime Shop
### Developer team :alien:
| Name        | E-mail           | GitHub  |
| :-------------: |:-------------:| :-----:|
| David Amor Antolín | d.amora@alumnos.urjc.es | https://github.com/Almendron100|
| Carlos Francisco Corraliza | c.franciscoc@alumnos.urjc.es | https://github.com/CarlosFco|
| Ramón Barrabes Parra | r.barrabes.2016@alumnos.urjc.es | https://github.com/ram2701 |
| Enrique Márquez Jiménez | e.marquezj.2017@alumnos.urjc.es | https://github.com/Kikemaji |
| Carlos González Valtierra | c.gonzalezva.2017@alumnos.urjc.es |  https://github.com/Carlos237|

### Entities :ghost:
* User
* Product
* Order
* Blog

### Advanced functionality (ideas) :rocket:
* Sales based on product's stock
* Custom recommendations based on previous purchases

### User types :bust_in_silhouette: :construction_worker: :cop:
* **Annonymous user**: View products, read the blog
* **Registered user**: All permission of Anonymous user.Place orders
* **Admin user**: All permission of Registeted user. Add/Remove products, add/delete blog entries

### Tools :hammer:
* PhotoShop
* Visual Studio Code
* Github Desktop

### UML diagram
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/uml/UML-resized.png" width="400" height="400" />

### Entities Diagram
![github-large](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/bin/src/main/resources/templates/Screenshots/DiagramaEntidades.png)

### Navigation Diagram
![github-large](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/bin/src/main/resources/templates/Screenshots/DiagramaNavFinal1.PNG)

### Classes Diagram
![github-large](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/Classes_diagram.png)

### Phase 2
| Name        | Most significant Commit 1  | Most significant Commit 2  | Most significant Commit 3  | Most significant Commit 4  | Most significant Commit 5  |
| :-------------: |:-------------:|:-------------:|:-------------:|:-------------:|:-------------:|
| David Amor Antolín | https://git.io/JvErG | https://git.io/JvErZ | https://git.io/JvErn | https://git.io/JvErc | https://git.io/JvErC |
| Carlos Francisco Corraliza | https://git.io/JvEr1 | https://git.io/JvErM | https://git.io/JvErS | https://git.io/JvEr9 | https://git.io/JvErH |
| Ramón Barrabes Parra | https://git.io/JvEr7 | https://git.io/JvEr5 | https://git.io/JvErd | https://git.io/JvErb | https://git.io/JvErN |
|Enrique Márquez Jiménez |  https://git.io/JvErA | https://git.io/JvErx |  https://git.io/JvErp | https://git.io/JvErh | https://git.io/JvEoe |
| Carlos González Valtierra |  |  |  |  |  |

| Name        | File 1   | File 2   | File 3   | File 4   | File 5   |
| :-------------: |:-------------:|:-------------:|:-------------:|:-------------:|:-------------:|
| David Amor Antolín | [ProductController](https://git.io/JvErW) | [OrderController](https://git.io/JvErl) | [BlogController](https://git.io/JvEr4) | [ProductRepository](https://git.io/JvErR) | [OrderService](https://git.io/JvErz) |
| Carlos Francisco Corraliza | [OrderMetrics](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/6434e149afd1911e2fd73e5e353f15564dbb840d/src/main/java/com/webapp/animeshop/model/OrderMetrics.java) | [Blog](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/54c5c89ff7f27406f582b6f672401a7c9e1403bc/src/main/java/com/webapp/animeshop/model/Blog.java) | [BlogController](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/54c5c89ff7f27406f582b6f672401a7c9e1403bc/src/main/java/com/webapp/animeshop/controller/BlogController.java) | [UserController](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/6434e149afd1911e2fd73e5e353f15564dbb840d/src/main/java/com/webapp/animeshop/controller/UserController.java) | [OrderController](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/6ccaa242e930418083ff5283adefd47a75e77b3a/src/main/java/com/webapp/animeshop/controller/OrderController.java) |
| Ramón Barrabes Parra | [WebController](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/src/main/java/com/webapp/animeshop/web/WebController.java) | [WebSecurityConfig](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/src/main/java/com/webapp/animeshop/security/WebSecurityConfig.java) | [CustomErrorController](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/src/main/java/com/webapp/animeshop/error/CustomErrorController.java) | [DatabaseInitializer](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/src/main/java/com/webapp/animeshop/DatabaseInitializer.java) | [LoginController](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/src/main/java/com/webapp/animeshop/security/LoginController.java) |
| Enrique Márquez Jiménez | [DatabaseInitializer](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/src/main/java/com/webapp/animeshop/DatabaseInitializer.java) | [OrderController](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/src/main/java/com/webapp/animeshop/order/OrderController.java) | [OrderService](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/src/main/java/com/webapp/animeshop/order/OrderService.java) | [ProductController](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/src/main/java/com/webapp/animeshop/product/ProductController.java) | [Order](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/src/main/java/com/webapp/animeshop/order/Order.java) |
| Carlos González Valtierra |  |  |  |  |  |


### Graphics
Money spent per order and average
### Screenshots :camera:
* **Home**
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/Home.PNG"/>
In this screen we can see the home of the page, which includes the recommendations based in your last purchases.

* **Products** 
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/products.PNG"/>
Here we can choose what products we want to buy.

* **Product Details** 
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/singleProduct.PNG"/>
When we choose a product, here we can see the details.

* **Cart** 
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/shopping cart.PNG"/>
Here you can see all the products that have been added to the cart and are waiting to be purchased.

* **Checkout** 
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/checkout.PNG"/>
If you are not logged you have to do it before finishing the checkout.

* **Checkout when logged** 
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/logged checkout.PNG"/>
If logged you can fill all the information and see the details of the order.

* **Confirmation** 
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/confirmation.PNG"/>
Detailed description of the order.

* **Blog** 
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/Blog.PNG"/>
When a new products come to the shop there will be a post about it here.

* **Blog details** 
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/Blogextend.PNG"/>
Detailed information about the new product.

* **Login** 
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/Login.PNG"/>
If you have an account, use this page to log in.

* **Register** 
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/register.PNG"/>
If you don't have an account here you can register.

* **My Profile**
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/My profile.PNG"/>
All the information about your account.

* **Edit Profile** 
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/My profile edit.PNG"/>
Use this screen if you want to edit some of your profile information.

* **Admin Profile(Graph)** 
<img src="https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/Admin profile.PNG"/>
The admin can use this screen to see information about the website.

## Development Environment

### Developing in Spring Boot

It's recomended to use an IDE with maven and with Spring compatibility. The IDE used in this project is STS(Spring Tool Suite 4).
To run the application the port that we use is 8443, so the URL will be:
https://localhost:8443
A MySQL database is needed so you have to create a database in a client with MySQL and Apache (We use XAMPP, more info at: https://www.apachefriends.org/es/index.html)

## Phase 3

### Build the application image with Docker

To buid the image of the application you need, first of all, to use the create_image.bat script located in the docker folder, this will generate the .jar file needed to build the image. Then the script will create the image.

Otherwise, if you have maven installed you need to run:
>mvn package or mvn clean install, this will generate the .jar file in target folder in backend directory


### Run the application using Docker Compose

You can run the application using Docker Compose. For that, you need to go to the docker folder and run the following command:
>docker-compose up
This will download the images needed, mysql and the app from Docker Hub. The application will run in the following URL: https://127.0.0.1:8080.


### Postman documentation

We made a documentation file with all the Postman requests you can use with our App. You can check it in the next URL:
[API Document](https://git.io/JvoKi)

### Classes diagram
![github-large](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/resources/static/Screenshots/class_diagram_phase3.png)

| Name        | Most significant Commit 1  | Most significant Commit 2  | Most significant Commit 3  | Most significant Commit 4  | Most significant Commit 5  |
| :-------------: |:-------------:|:-------------:|:-------------:|:-------------:|:-------------:|
| David Amor Antolín | https://git.io/JvoP3 | https://git.io/JvoPs | https://git.io/JvoPn | https://git.io/JvoPC | https://git.io/JvoPW |
| Carlos Francisco Corraliza | https://git.io/JvoXY | https://git.io/JvoXZ | https://git.io/JvoXc | https://git.io/JvoXC | https://git.io/JvoXR |
| Ramón Barrabes Parra | https://git.io/JvoyX | https://git.io/JvoyM | https://git.io/JvoyS | https://git.io/JvoyH | https://git.io/JvoyN |
|Enrique Márquez Jiménez | https://git.io/Jvod3 | https://git.io/Jvods | https://git.io/JvodG | https://git.io/JvodZ | https://git.io/Jvodn |
| Carlos González Valtierra | https://git.io/JvoNj  |  |  |  |  |

| Name        | File 1   | File 2   | File 3   | File 4   | File 5   |
| :-------------: |:-------------:|:-------------:|:-------------:|:-------------:|:-------------:|
| David Amor Antolín | [ProductRestController](https://git.io/JvoiS) | [OrderRestController](https://git.io/Jvoid) | [UserRestController](https://git.io/JvoiF) | [API.md](https://git.io/JvoKi) | [apiV2.postman_collection.json](https://git.io/Jvoib) |
| Carlos Francisco Corraliza | [OrderRestController](https://git.io/Jvoid) | [ProductRestController](https://git.io/JvoiS) | [ProductService](https://git.io/JvoX1) | [ProductController](https://git.io/JvoXS) | [apiV2.postman_collection.json](https://git.io/Jvoib) |
| Ramón Barrabes Parra | [Dockerfile](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/docker/Dockerfile) | [create_image.bat](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/docker/create_image.bat) | [docker-compose](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/docker/docker-compose.yml) | [animeshop-0.0.1-SNAPSHOT.jar](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/docker/app/animeshop-0.0.1-SNAPSHOT.jar) | [UserRestController](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/java/com/webapp/animeshop/user/UserRestController.java) |
| Enrique Márquez Jiménez | [BlogRestController](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/java/com/webapp/animeshop/blog/BlogRestController.java) | [OrderRestController](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/java/com/webapp/animeshop/order/OrderRestController.java) | [API.md](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/API/API.md) | [README.md](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/README.md) | []() |
| Carlos González Valtierra | [README.md](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/README.md) | |  |  |  |

## Phase 4

### Video :video_camera:
[Video corto demostración](https://youtu.be/g_N5_3xaJtI)<br/>
[Video largo detallado](https://youtu.be/2uisByIiYT4)

### Instalation process
First download node.js from https://node.org/ , select the recommended one for windows.
Then go to the cmd. User the commands: 
npm install -g
wait some time and then do:
npm install -g @angular/cli
after that, angular-cli is ready for windows.

To execute this project, clone this repository, open it with visual studio, open the terminal and write the commands: 
npm install
ng serve
after using ng serve the application will be executed and can be opened in your browser.

### Classes and templates diagram
![github-large](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/frontend/src/assets/diagram/Templates%20and%20clases%20diagram.png)

| Name        | Most significant Commit 1  | Most significant Commit 2  | Most significant Commit 3  | Most significant Commit 4  | Most significant Commit 5  |
| :-------------: |:-------------:|:-------------:|:-------------:|:-------------:|:-------------:|
| David Amor Antolín | https://git.io/JfUVp | https://git.io/JfUVj | https://git.io/JfUwe | https://git.io/JfUwf | https://git.io/JfUwJ |
| Carlos Francisco Corraliza | https://git.io/JfUVH | https://git.io/JfUV7 | https://git.io/JfUV5 | https://git.io/JfUVF | https://git.io/JfUVb |
| Ramón Barrabes Parra |  |  |  |  |  |
|Enrique Márquez Jiménez | https://github.com/CodeURJC-DAW-2019-20/webapp6/commit/7196e4c0ea5c8ea2df42d83fe4b84c7251d8b774  |  https://github.com/CodeURJC-DAW-2019-20/webapp6/commit/0393641218124076b35576f33d8698903d06df22| https://github.com/CodeURJC-DAW-2019-20/webapp6/commit/044aa558c70088a363b242d6d75388980a6e1d28 | https://github.com/CodeURJC-DAW-2019-20/webapp6/commit/c480d1d23d53619d5638b483ff27daa86e33edcd | https://github.com/CodeURJC-DAW-2019-20/webapp6/commit/7aa9768c4d4182312df105d89282b93d3eb2fc25 |
| Carlos González Valtierra |  |  |  |  |  |

| Name        | File 1   | File 2   | File 3   | File 4   | File 5   |
| :-------------: |:-------------:|:-------------:|:-------------:|:-------------:|:-------------:|
| David Amor Antolín | [product.component.ts](https://git.io/JfUwk) | [product.service.ts](https://git.io/JfUwc) | [product.component.html](https://git.io/JfUw3) | [checkout.component.ts](https://git.io/JfUwq) | [confirmation.component.ts](https://git.io/JfUw8) |
| Carlos Francisco Corraliza | [blog.component.ts](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/frontend/src/app/blog/blog.component.ts) | [MetricsRestController.java](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/backend/src/main/java/com/webapp/animeshop/order/MetricsRestController.java) | [userPage.component.ts](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/frontend/src/app/login/userPage.component.ts) | [singleBlog.component.ts](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/frontend/src/app/blog/singleBlog.component.ts) | [order.service.ts](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/frontend/src/app/order/order.service.ts) |
| Ramón Barrabes Parra |  |  |  |  |  |
| Enrique Márquez Jiménez | [order.component.html](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/frontend/src/app/order/order.component.html) | [chechout.component.ts](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/frontend/src/app/order/checkout.component.ts) | [order.service.ts](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/frontend/src/app/order/order.service.ts) | [order.component.ts](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/frontend/src/app/order/order.component.ts) | [confirmation.component.ts](https://github.com/CodeURJC-DAW-2019-20/webapp6/blob/master/frontend/src/app/order/confirmation.component.ts) |
| Carlos González Valtierra |  |  |  |  |  |
